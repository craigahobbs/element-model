<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>element-model</h1>
<p><a href="https://www.npmjs.com/package/element-model"><img src="https://img.shields.io/npm/v/element-model" alt="npm"></a>
<a href="https://github.com/craigahobbs/element-model/blob/main/LICENSE"><img src="https://img.shields.io/github/license/craigahobbs/element-model" alt="GitHub"></a></p>
<p><a href="https://craigahobbs.github.io/element-model/">element-model API Documentation</a></p>
<p>The element model is a native JavaScript object representation of HTML and SVG element hierarchies.
It provides a straight-forward, programmatic way to generate HTML content in the web browser using
pure JavaScript. For example, consider the following HTML element hierarchy:</p>
<pre class="prettyprint source lang-html"><code>&lt;h1>Title&lt;/h1>
&lt;p>
This is &lt;a href=&quot;link.html&quot;>a &lt;strong>link&lt;/strong>&lt;/a>
&lt;/p>
</code></pre>
<p>The element model for the HTML element hierarchy above is as follows:</p>
<pre class="prettyprint source lang-javascript"><code>const elements = [
    {
        'html': 'h1',
        'elem': {'text': 'Title'}
    },
    {
        'html': 'p',
        'elem': {
            'html': 'a',
            'attr': {'href': 'link.html'},
            'elem': [
                {'text': 'a '},
                {
                    'html': 'strong',
                    'elem': {'text': 'link'}
                }
            ]
        }
    }
];
</code></pre>
<p>An element model is rendered to the web browser using the
<a href="https://craigahobbs.github.io/element-model/module-lib_elementModel.html#.renderElements">renderElement</a>
function.</p>
<pre class="prettyprint source lang-javascript"><code>import {renderElements} from 'element-model/elementModel.js';

renderElements(document.body, elements);
</code></pre>
<p>If the element model comes from an un-trusted source, you'll want to verify it before rendering
using the
<a href="https://craigahobbs.github.io/element-model/module-lib_elementModel.html#.validateElements">validateElements</a>
function.</p>
<pre class="prettyprint source lang-javascript"><code>import {validateElements} from 'element-model/elementModel.js';

validateElements(elements);
</code></pre>
<p>The validateElements function is also useful for testing element model components by ensuring that
they return valid element model objects.</p>
<h2>The Element Model</h2>
<p>An element model is either an element object, null, or an array (of any above). Element objects
define either an HTML element, an SVG element, or a text element.</p>
<p>HTML and SVG element model objects may define the following attributes: &quot;html&quot;, &quot;svg&quot;, &quot;attr&quot;,
&quot;elem&quot;, and &quot;callback&quot;. The &quot;html&quot; or &quot;svg&quot; attributes define the HTML or SVG element tag (e.g.,
&quot;h1&quot;), respectively.</p>
<p>HTML and SVG elements can optionally define attributes using the &quot;attr&quot; attribute. The &quot;attr&quot;
attribute is a dictionary of the element's attributes or null. If &quot;attr&quot; is null, there are no
attributes. Further, if any attribute's value is null, that attribute is ignored.</p>
<p>HTML and SVG elements can optionally define sub-elements using the &quot;elem&quot; attribute. The &quot;elem&quot;
attribute can be an element object, null, or an array of any of the above. If &quot;elem&quot; is null, there
are no sub-elements. Any null element encountered is ignored.</p>
<p>If an HTML or SVG element object defines the &quot;callback&quot; attribute, the function is called with the
created HTML or SVG element. This allows for the addition of callbacks (e.g., &quot;click&quot;) on the
created elements.</p>
<p>Text element model objects are identified by the &quot;text&quot; attribute. The &quot;text&quot; attribute value is the
text of the element.</p>
<h2>Examples</h2>
<p>The following examples demonstrate the element model in practice.</p>
<h3>Dynamic List</h3>
<p>The element model was designed to make creation of dynamic content easy in code. For example, here's
how to dynamically create a list:</p>
<pre class="prettyprint source lang-javascript"><code>const listItems = ['One', 'Two', 'Three'];
const elements = [
    {'html': 'h1', 'elem': {'text': 'The List'}},
    {
        'html': 'ul',
        'elem': listItems.map((text) => ({'html': 'li', 'elem': {'text': text}}))
    }
];
renderElements(document.body, elements);
</code></pre>
<h3>Optional Content</h3>
<p>To hide optional content, simple replace the content's element model with null. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const elements = [
    {'html': 'p', 'elem': {'text': 'This is required content'}},
    !hasOptionalContent ? null : {'html': 'p', 'elem': {'text': 'This is optional content'}}
];
renderElements(document.body, elements);
</code></pre>
<h3>Front-End Components</h3>
<p>Any function that returns an element model can be considered a component. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const linkElements = (text, url) => {
    return {'html': 'p', 'elem': {'html': 'a', 'attr': {'href': url}, 'elem': {'text': text}}};
};
const elements = [
    linkElements('Link 1', '#one'),
    linkElements('Link 2', '#two'),
    linkElements('Link 3', '#three')
];
renderElements(document.body, elements);
</code></pre>
<h3>Collapsing Menu</h3>
<p>To create a collapsing menu, we add add an &quot;click&quot; event handler that hides or shows the sub-menu.</p>
<pre class="prettyprint source lang-javascript"><code>const onHideShow = () => {
    const submenu = document.getElementById('submenu');
    if (submenu.getAttribute('style').includes('visible')) {
        submenu.setAttribute('style', 'visibility: collapse;');
    } else {
        submenu.setAttribute('style', 'visibility: visible;');
    }
};
const elements = [
    {'html': 'ul', 'elem': [
        {'html': 'li', 'elem': [
            {'html': 'a', 'elem': {'text': 'Menu'}, 'callback': (element) => {
                element.addEventListener('click', () => onHideShow(), false);
            }},
            {'html': 'ul', 'attr': {'id': 'submenu', 'style': 'visibility: visible;'}, 'elem': [
                {'html': 'li', 'elem': {'html': 'a', 'attr': {'href': '#one'}, 'elem': {'text': 'Sub-menu 1'}}},
                {'html': 'li', 'elem': {'html': 'a', 'attr': {'href': '#two'}, 'elem': {'text': 'Sub-menu 2'}}}
            ]}
        ]}
    ]}
];
renderElements(document.body, elements);
</code></pre>
<h2>Development</h2>
<p>element-model is developed using <a href="https://github.com/craigahobbs/javascript-build#readme">javascript-build</a>
and it was started using <a href="https://github.com/craigahobbs/javascript-template#readme">javascript-template</a>:</p>
<pre class="prettyprint source"><code>template-specialize javascript-template/template/ element-model/ -k package element-model -k name 'Craig A. Hobbs' -k email 'craigahobbs@gmail.com' -k github 'craigahobbs' -k noapp 1
</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-lib_elementModel.html">lib/elementModel</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>